---
import "../styles/home.css";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <title>WordPress Gatsby Blog</title>
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <a href="/" class="site-name">WordPress Gatsby Blog</a>
      <ul class="nav-menu">
        <li><a href="/" class="menu-link">Home</a></li>
        <li><a href="/posts" class="menu-link">Posts</a></li>
        <li><a href="/contact" class="menu-link">Contact</a></li>
      </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content-wrapper">
        <div class="hero-left-col">
          <p class="hero-normal-text">I am</p>
          <h1 class="hero-big-text">Someone Name</h1>
          <p class="hero-intro-text">
            I am a web developer and blogger, passionate about sharing knowledge
            and building cool things with code.<br />Welcome to my portfolio
            blog!
          </p>
          <div class="hero-btn-row">
            <a href="/posts" class="hero-btn">View Posts</a>
            <a href="/contact" class="hero-btn-alt">Contact Me</a>
          </div>
        </div>
        <div class="hero-right-col">
          <img src="/image/20943608.jpeg" alt="avatar" class="hero-avatar" />
          <div class="social-list">
            <a href="#" class="social-icon-btn" aria-label="Twitter">
              <img src="/svg/twitter.svg" alt="twitter" />
            </a>
            <a href="#" class="social-icon-btn" aria-label="LinkedIn">
              <img src="/svg/linkedin.svg" alt="linkedin" />
            </a>
            <a href="#" class="social-icon-btn" aria-label="Facebook">
              <img src="/svg/facebook.svg" alt="facebook" />
            </a>
            <a href="#" class="social-icon-btn" aria-label="GitHub">
              <img src="/svg/github.svg" alt="github" />
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- About Me -->
    <section class="about-section">
      <div class="about-content">
        <h2 class="about-title">About Me</h2>
        <p class="about-text">
          Hi, I'm Someone, a passionate web developer and blogger. I love
          exploring new technologies and sharing knowledge with the community.
          On this blog, you'll find my thoughts on web development, tutorials,
          and project showcases. I hope my content can inspire others in their
          coding journey.
        </p>
      </div>
    </section>

    <!-- Proficiency Section -->
    <section class="proficiency-section" id="proficiency-section">
      <div class="proficiency-content">
        <h2 class="proficiency-title">Proficiency</h2>
        <div class="skills-grid">
          <div class="skill-card" data-percentage="95">
            <div class="skill-name skill-name-1">React</div>
            <div class="circular-progress">
              <svg class="progress-ring" width="180" height="180">
                <circle
                  class="progress-ring-circle-bg"
                  stroke="#f0f0f0"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"></circle>
                <circle
                  class="progress-ring-circle"
                  stroke="url(#gradient-1)"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"
                  stroke-dasharray="502.65"
                  stroke-dashoffset="502.65"
                  data-circumference="502.65"></circle>
                <defs>
                  <linearGradient
                    id="gradient-1"
                    gradientUnits="userSpaceOnUse"
                    x1="90"
                    y1="10"
                    x2="170"
                    y2="90"
                  >
                    <stop offset="0%" style="stop-color:#9dddd4;stop-opacity:1"
                    ></stop>
                    <stop offset="50%" style="stop-color:#88d4c9;stop-opacity:1"
                    ></stop>
                    <stop
                      offset="100%"
                      style="stop-color:#76cfc5;stop-opacity:1"></stop>
                  </linearGradient>
                </defs>
              </svg>
              <div class="circular-progress-text skill-color-1">
                <span class="skill-percentage" data-target="95">0</span>%
              </div>
            </div>
          </div>
          <div class="skill-card" data-percentage="90">
            <div class="skill-name skill-name-2">JavaScript</div>
            <div class="circular-progress">
              <svg class="progress-ring" width="180" height="180">
                <circle
                  class="progress-ring-circle-bg"
                  stroke="#f0f0f0"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"></circle>
                <circle
                  class="progress-ring-circle"
                  stroke="url(#gradient-2)"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"
                  stroke-dasharray="502.65"
                  stroke-dashoffset="502.65"
                  data-circumference="502.65"></circle>
                <defs>
                  <linearGradient
                    id="gradient-2"
                    gradientUnits="userSpaceOnUse"
                    x1="90"
                    y1="10"
                    x2="170"
                    y2="90"
                  >
                    <stop offset="0%" style="stop-color:#ffd966;stop-opacity:1"
                    ></stop>
                    <stop offset="50%" style="stop-color:#ffc933;stop-opacity:1"
                    ></stop>
                    <stop
                      offset="100%"
                      style="stop-color:#ffb400;stop-opacity:1"></stop>
                  </linearGradient>
                </defs>
              </svg>
              <div class="circular-progress-text skill-color-2">
                <span class="skill-percentage" data-target="90">0</span>%
              </div>
            </div>
          </div>
          <div class="skill-card" data-percentage="88">
            <div class="skill-name skill-name-3">TypeScript</div>
            <div class="circular-progress">
              <svg class="progress-ring" width="180" height="180">
                <circle
                  class="progress-ring-circle-bg"
                  stroke="#f0f0f0"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"></circle>
                <circle
                  class="progress-ring-circle"
                  stroke="url(#gradient-3)"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"
                  stroke-dasharray="502.65"
                  stroke-dashoffset="502.65"
                  data-circumference="502.65"></circle>
                <defs>
                  <linearGradient
                    id="gradient-3"
                    gradientUnits="userSpaceOnUse"
                    x1="90"
                    y1="10"
                    x2="170"
                    y2="90"
                  >
                    <stop offset="0%" style="stop-color:#e88b8b;stop-opacity:1"
                    ></stop>
                    <stop offset="50%" style="stop-color:#ea7876;stop-opacity:1"
                    ></stop>
                    <stop
                      offset="100%"
                      style="stop-color:#ec6664;stop-opacity:1"></stop>
                  </linearGradient>
                </defs>
              </svg>
              <div class="circular-progress-text skill-color-3">
                <span class="skill-percentage" data-target="88">0</span>%
              </div>
            </div>
          </div>
          <div class="skill-card" data-percentage="85">
            <div class="skill-name skill-name-4">Vue.js</div>
            <div class="circular-progress">
              <svg class="progress-ring" width="180" height="180">
                <circle
                  class="progress-ring-circle-bg"
                  stroke="#f0f0f0"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"></circle>
                <circle
                  class="progress-ring-circle"
                  stroke="url(#gradient-4)"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"
                  stroke-dasharray="502.65"
                  stroke-dashoffset="502.65"
                  data-circumference="502.65"></circle>
                <defs>
                  <linearGradient
                    id="gradient-4"
                    gradientUnits="userSpaceOnUse"
                    x1="90"
                    y1="10"
                    x2="170"
                    y2="90"
                  >
                    <stop offset="0%" style="stop-color:#e88b8b;stop-opacity:1"
                    ></stop>
                    <stop offset="50%" style="stop-color:#ea7876;stop-opacity:1"
                    ></stop>
                    <stop
                      offset="100%"
                      style="stop-color:#ec6664;stop-opacity:1"></stop>
                  </linearGradient>
                </defs>
              </svg>
              <div class="circular-progress-text skill-color-4">
                <span class="skill-percentage" data-target="85">0</span>%
              </div>
            </div>
          </div>
          <div class="skill-card" data-percentage="92">
            <div class="skill-name skill-name-5">Node.js</div>
            <div class="circular-progress">
              <svg class="progress-ring" width="180" height="180">
                <circle
                  class="progress-ring-circle-bg"
                  stroke="#f0f0f0"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"></circle>
                <circle
                  class="progress-ring-circle"
                  stroke="url(#gradient-5)"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"
                  stroke-dasharray="502.65"
                  stroke-dashoffset="502.65"
                  data-circumference="502.65"></circle>
                <defs>
                  <linearGradient
                    id="gradient-5"
                    gradientUnits="userSpaceOnUse"
                    x1="90"
                    y1="10"
                    x2="170"
                    y2="90"
                  >
                    <stop offset="0%" style="stop-color:#9dddd4;stop-opacity:1"
                    ></stop>
                    <stop offset="50%" style="stop-color:#88d4c9;stop-opacity:1"
                    ></stop>
                    <stop
                      offset="100%"
                      style="stop-color:#76cfc5;stop-opacity:1"></stop>
                  </linearGradient>
                </defs>
              </svg>
              <div class="circular-progress-text skill-color-5">
                <span class="skill-percentage" data-target="92">0</span>%
              </div>
            </div>
          </div>
          <div class="skill-card" data-percentage="87">
            <div class="skill-name skill-name-6">CSS</div>
            <div class="circular-progress">
              <svg class="progress-ring" width="180" height="180">
                <circle
                  class="progress-ring-circle-bg"
                  stroke="#f0f0f0"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"></circle>
                <circle
                  class="progress-ring-circle"
                  stroke="url(#gradient-6)"
                  stroke-width="10"
                  fill="transparent"
                  r="80"
                  cx="90"
                  cy="90"
                  stroke-dasharray="502.65"
                  stroke-dashoffset="502.65"
                  data-circumference="502.65"></circle>
                <defs>
                  <linearGradient
                    id="gradient-6"
                    gradientUnits="userSpaceOnUse"
                    x1="90"
                    y1="10"
                    x2="170"
                    y2="90"
                  >
                    <stop offset="0%" style="stop-color:#ffd966;stop-opacity:1"
                    ></stop>
                    <stop offset="50%" style="stop-color:#ffc933;stop-opacity:1"
                    ></stop>
                    <stop
                      offset="100%"
                      style="stop-color:#ffb400;stop-opacity:1"></stop>
                  </linearGradient>
                </defs>
              </svg>
              <div class="circular-progress-text skill-color-6">
                <span class="skill-percentage" data-target="87">0</span>%
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      // 数字动画函数 - 从0计数到目标值
      function animateNumber(
        element: HTMLElement,
        target: number,
        duration = 2000
      ) {
        const start = 0;
        const startTime = performance.now();

        function update(currentTime: number) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);

          // 使用缓动函数
          const easeOutQuart = 1 - Math.pow(1 - progress, 4);
          const current = Math.floor(start + (target - start) * easeOutQuart);

          element.textContent = current.toString();

          if (progress < 1) {
            requestAnimationFrame(update);
          } else {
            element.textContent = target.toString();
          }
        }

        requestAnimationFrame(update);
      }

      // 圆环进度条动画函数
      function animateCircularProgress(
        circle: SVGCircleElement,
        percentage: number,
        duration = 2000
      ) {
        const circumference = parseFloat(
          circle.getAttribute("data-circumference") || "502.65"
        );
        const startTime = performance.now();
        const offset = circumference;

        function update(currentTime: number) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);

          // 使用缓动函数
          const easeOutQuart = 1 - Math.pow(1 - progress, 4);
          const currentPercentage = percentage * easeOutQuart;
          const currentOffset =
            circumference - (currentPercentage / 100) * circumference;

          circle.style.strokeDashoffset = currentOffset.toString();

          if (progress < 1) {
            requestAnimationFrame(update);
          } else {
            circle.style.strokeDashoffset = (
              circumference -
              (percentage / 100) * circumference
            ).toString();
          }
        }

        requestAnimationFrame(update);
      }

      // 使用 Intersection Observer 检测滚动
      const proficiencySection = document.getElementById("proficiency-section");
      let hasAnimated = false;

      if (proficiencySection) {
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting && !hasAnimated) {
                hasAnimated = true;

                // 获取所有技能卡片
                const skillCards =
                  proficiencySection.querySelectorAll(".skill-card");

                skillCards.forEach((card, index) => {
                  setTimeout(() => {
                    const percentageElement = card.querySelector(
                      ".skill-percentage"
                    ) as HTMLElement;
                    const progressCircle = card.querySelector(
                      ".progress-ring-circle"
                    ) as SVGCircleElement;
                    const percentage = parseInt(
                      card.getAttribute("data-percentage") || "0"
                    );

                    if (percentageElement && progressCircle) {
                      // 启动数字动画
                      animateNumber(percentageElement, percentage);

                      // 启动圆环动画
                      animateCircularProgress(progressCircle, percentage);
                    }
                  }, index * 150); // 每个技能延迟150ms，形成依次动画效果
                });
              }
            });
          },
          {
            threshold: 0.3, // 当30%的区域可见时触发
          }
        );

        observer.observe(proficiencySection);
      }
    </script>

    <!-- Projects Section 1 -->
    <section class="third-section">
      <div class="projects-content">
        <h2 class="projects-title">Projects</h2>
        <div class="projects-grid">
          <div class="project-row">
            <div class="project-image-container">
              <img
                src="/svg/project1.svg"
                alt="E-Commerce Platform"
                class="project-image"
              />
            </div>
            <div class="project-content">
              <h3 class="project-title">E-Commerce Platform</h3>
              <p class="project-description">
                A full-stack e-commerce platform built with React, Node.js, and
                MongoDB. Features include user authentication, product
                management, shopping cart, and payment integration.
              </p>
              <div class="project-technologies">
                <span class="technology-tag">React</span>
                <span class="technology-tag">Node.js</span>
                <span class="technology-tag">MongoDB</span>
                <span class="technology-tag">Stripe</span>
              </div>
              <div class="project-links">
                <a href="#" class="project-link"
                  >Live <span style="font-size: 1.2rem;">→</span></a
                >
                <a href="#" class="project-link"
                  >GitHub <span style="font-size: 1.2rem;">→</span></a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects Section 2 -->
    <section class="fourth-section">
      <div class="projects-content">
        <div class="projects-grid">
          <div class="project-row">
            <div class="project-content">
              <h3 class="project-title">Task Management App</h3>
              <p class="project-description">
                A collaborative task management application with real-time
                updates, drag-and-drop functionality, and team collaboration
                features.
              </p>
              <div class="project-technologies">
                <span class="technology-tag">Vue.js</span>
                <span class="technology-tag">Firebase</span>
                <span class="technology-tag">Vuex</span>
                <span class="technology-tag">Vuetify</span>
              </div>
              <div class="project-links">
                <a href="#" class="project-link"
                  >Live <span style="font-size: 1.2rem;">→</span></a
                >
                <a href="#" class="project-link"
                  >GitHub <span style="font-size: 1.2rem;">→</span></a
                >
              </div>
            </div>
            <div class="project-image-container">
              <img
                src="/svg/project2.svg"
                alt="Task Management App"
                class="project-image"
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects Section 3 -->
    <section class="fifth-section">
      <div class="projects-content">
        <div class="projects-grid">
          <div class="project-row">
            <div class="project-image-container">
              <img
                src="/svg/project3.svg"
                alt="Portfolio Website"
                class="project-image"
              />
            </div>
            <div class="project-content">
              <h3 class="project-title">Portfolio Website</h3>
              <p class="project-description">
                A modern, responsive portfolio website built with Gatsby and
                styled-components. Features smooth animations and SEO
                optimization.
              </p>
              <div class="project-technologies">
                <span class="technology-tag">Gatsby</span>
                <span class="technology-tag">Styled-components</span>
                <span class="technology-tag">GraphQL</span>
                <span class="technology-tag">Netlify</span>
              </div>
              <div class="project-links">
                <a href="#" class="project-link"
                  >Live <span style="font-size: 1.2rem;">→</span></a
                >
                <a href="#" class="project-link"
                  >GitHub <span style="font-size: 1.2rem;">→</span></a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="footer-content">
        <div class="footer-text">
          © 2025 Someone. All rights reserved. • <a
            href="#"
            class="footer-link">Privacy Policy</a
          > • <a href="#" class="footer-link">Terms of Service</a> • <a
            href="#"
            class="footer-link">Sitemap</a
          >
        </div>
        <a href="#" class="footer-github">Star this project on Github</a>
      </div>
    </footer>
  </body>
</html>
